<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>ChatGPT Survey</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <div class="container">
    <h1>ChatGPT使用体验调查</h1>
    <form>
      <p>问题1: 您使用尊闻行知的频率？</p>
      <input type="radio" id="q1-1" name="q1" value="每天都用">
      <label for="q1-1">每天都用</label><br>
      
      <input type="radio" id="q1-2" name="q1" value="两三天用一次">
      <label for="q1-2">两三天用一次</label><br> 

      <input type="radio" id="q1-3" name="q1" value="每周偶尔用">
      <label for="q1-3">每周偶尔用</label><br>

      <input type="radio" id="q1-4" name="q1" value="很少用到">
      <label for="q1-4">很少用到</label><br> 
    </form>

    <form>
      <p>问题2: 您觉得尊闻行知在哪些场景下最有用？（可多选）</p>
      <input type="checkbox" id="q2-1" name="q2" value="生成文章，如扩写，缩写，概括，润色等">
      <label for="q2-1">生成文章，如扩写，缩写，概括，润色等</label><br>

      <input type="checkbox" id="q2-2" name="q2" value="撰写技术文档，如可研、需求文档等">
      <label for="q2-2">撰写技术文档，如可研、需求文档等</label><br>

      <input type="checkbox" id="q2-3" name="q2" value="处理客户问题">
      <label for="q2-3">处理客户问题</label><br>

      <input type="checkbox" id="q2-4" name="q2" value="编写代码">
      <label for="q2-4">编写代码</label><br>

      <input type="checkbox" id="q2-5" name="q2" value="安排活动/计划">
      <label for="q2-5">安排活动/计划</label><br>

      <input type="checkbox" id="q2-6" name="q2" value="数据分析，生成分析报告">
      <label for="q2-6">数据分析，生成分析报告</label><br>

      <input type="checkbox" id="q2-7" name="q2" value="拓展思路，由尊闻行知提建议">
      <label for="q2-7">拓展思路，由尊闻行知提建议</label><br>

      <input type="checkbox" id="q2-8" name="q2" value="其他">
      <label for="q2-8">其他</label><br>
    </form>

     <form>
      <p>问题3: 您主要使用尊闻行知的哪些能力？（可多选）</p>
      <input type="checkbox" id="q3-1" name="q3" value="语言能力，能安排文章框架，快速写文章，润色">
      <label for="q3-1">语言能力，能安排文章框架，快速写文章，润色</label><br>

      <input type="checkbox" id="q3-2" name="q3" value="知识，迅速获得技术支持并应用">
      <label for="q3-2">知识，迅速获得技术支持并应用</label><br>

      <input type="checkbox" id="q3-3" name="q3" value="编程，全栈开发能力">
      <label for="q3-3">编程，全栈开发能力</label><br>

      <input type="checkbox" id="q3-4" name="q3" value="数据分析，寻找数据规律趋势">
      <label for="q3-4">数据分析，寻找数据规律趋势</label><br>

      <input type="checkbox" id="q3-5" name="q3" value="角色扮演能力，提供业内外各水平的多视角做参考">
      <label for="q3-5">角色扮演能力，提供业内外各水平的多视角做参考</label><br>

      <input type="checkbox" id="q3-6" name="q3" value="其他">
      <label for="q3-6">其他</label><br>
    </form>
    <form>
      <p>问题4: 使用尊闻行知后，您觉得您的工作有变化吗？</p>
      <input type="radio" id="q4-1" name="q4" value="很多，工作生活都在用">
      <label for="q4-1">很多，工作生活都在用</label><br>

      <input type="radio" id="q4-2" name="q4" value="有一些变化，部分工作流程会使用尊闻行知">
      <label for="q4-2">有一些变化，部分工作流程会使用尊闻行知</label><br>

      <input type="radio" id="q4-3" name="q4" value="没什么变化">
      <label for="q4-3">没什么变化</label><br>
    </form>

    <form>
      <p>问题5: 您最希望获得尊闻行知哪个教程？（会根据结果录制教程）</p>
      <input type="radio" id="q5-1" name="q5" value="如何提高尊闻行知的回答质量">
      <label for="q5-1">如何提高尊闻行知的回答质量</label><br>

      <input type="radio" id="q5-2" name="q5" value="写文章、制作word、PPT等办公场景的使用指导">
      <label for="q5-2">写文章、制作word、PPT等办公场景的使用指导</label><br>

      <input type="radio" id="q5-3" name="q5" value="想试试怎么样用尊闻行知0代码编程">
      <label for="q5-3">想试试怎么样用尊闻行知0代码编程</label><br>

      <input type="radio" id="q5-4" name="q5" value="如何在业务中更多的把更多的任务交给尊闻行知">
      <label for="q5-4">如何在业务中更多的把更多的任务交给尊闻行知</label><br>

      <input type="radio" id="q5-5" name="q5" value="其他，请OA联系滕飞">
      <label for="q5-5">其他，请OA联系滕飞</label><br>
    </form> 
      <button type="submit">提交</button>
      <button type="button" onclick="download()">下载结果</button>

  </div>

  <script src="server.js"></script>
  <script>
function download() {
  const password = prompt('请输入密码');

  fetch('/download?password=' + password)
    .then(response => {
      if (response.ok) {
        window.location.href = '/download?password=' + password;
      } else {
        alert('密码错误');
      }
    });
}  
document.querySelector('button[type="submit"]').addEventListener('click', function(event) {
  event.preventDefault();
  
  var data = {};

  // 问题1
  var q1 = document.querySelector('input[name="q1"]:checked');
  data.q1 = q1 ? q1.value : '';

  // 问题2
  var q2 = Array.from(document.querySelectorAll('input[name="q2"]:checked')).map(function(checkbox) {
    return checkbox.value;
  });
  data.q2 = q2;

  // 问题3
  var q3 = document.querySelector('#q3');
  data.q3 = q3 ? q3.value : '';

  // 在这里，我们现在有了一个包含所有问题答案的数据对象，您可以将其发送到您的服务器
  console.log(data);

  fetch('/submit', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
    },
    body: JSON.stringify(data),
  })
  .then(response => response.json())
  .then(data => {
    console.log('Success:', data);
    alert('问卷已提交，感谢您的回答!');
  })
  .catch((error) => {
    console.error('Error:', error);
  });
});
  </script>
</body>
</html>